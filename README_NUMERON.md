# 数字当てゲーム（3桁戦）＋アイテム付き

## 概要

Pythonで実装された数字当てゲーム（Numeron）です。3桁の数字を当てるゲームに、6種類のアイテム機能を追加しました。

## ゲームルール

### 基本ルール
- プレイヤーは0〜9の数字カードから重複なしで3桁の番号を設定
- 先攻・後攻交互に相手の番号を推測
- 推測結果は EAT（数字+桁一致）・BITE（数字のみ一致）で表示
- 先に相手の番号を完全に当てたプレイヤーが勝利

### 対戦形式
- **1人用**: 人間 vs AI
- **2人用**: 人間 vs 人間

## アイテム仕様

### 攻撃系アイテム

#### 1. DOUBLE（黄）
- **効果**: 2回連続コール可能。ただし1桁開示。
- **制限**: 2回目のコール時はアイテム使用不可。

#### 2. HIGH&LOW（青&赤）
- **効果**: 相手番号の各桁がHIGH(5-9)/LOW(0-4)か判明。
- **追加情報**: 第3回ではHIGH/LOWの数字数も表示。

#### 3. TARGET（紫）
- **効果**: 指定数字が相手番号に含まれるか確認。
- **追加情報**: 含まれる場合は桁も判明。

#### 4. SLASH（エメラルドグリーン）
- **効果**: 最大数-最小数（スラッシュナンバー）を取得。

### 防御系アイテム

#### 5. SHUFFLE（緑）
- **効果**: 自分の番号を並べ替え可能。

#### 6. CHANGE（桃）
- **効果**: 自分の番号の1桁を手持ちカードと交換可能。
- **制限**: HIGH/LOWの性質を保持。

## アイテム使用ルール

- 1ターンに1個まで使用可能
- 使用済みアイテムは再使用不可（勝敗判定まで）
- 使用済みアイテムはグレーアウト表示

## 画面表示

### 1人用モード
- プレイヤー番号: 常時表示
- AI番号: 非表示
- コール履歴: 過去ターン分すべて表示
- アイテム一覧: 6個、使用済みはグレーアウト
- メモ用数字カード: 0〜9、使用済みや判明数字はグレーアウト
- コール入力: 数字入力のみ

### 2人用モード
- 両プレイヤー番号: 非表示
- コール履歴: 過去ターン分すべて表示
- アイテム一覧: 6個、使用済みはグレーアウト
- コール入力: 数字入力のみ

## 実行方法

### 基本実行
```bash
python3 numeron_game.py
```

### テスト実行
```bash
python3 test_game.py
```

## ファイル構成

- `numeron_game.py`: メインゲームファイル
- `test_game.py`: テストスクリプト
- `README_NUMERON.md`: このファイル

## クラス構成

### 主要クラス
- `Player`: プレイヤーの抽象クラス
- `HumanPlayer`: 人間プレイヤー
- `AIPlayer`: AIプレイヤー
- `Item`: アイテムクラス
- `NumeronGame`: ゲーム管理クラス

### 列挙型
- `GameMode`: ゲームモード（1人用/2人用）
- `ItemType`: アイテムタイプ（攻撃系/防御系）

## AI仕様

- 推測戦略: 可能な番号からランダム選択
- 自分の番号は推測対象から除外
- アイテム使用確率: 30%
- コール履歴から可能な番号を絞り込み

## ゲームフロー

1. ゲームモード選択（1人用/2人用）
2. 番号設定
3. ターン開始
   - ゲーム状態表示
   - アイテム使用選択
   - コール実行
   - 結果判定
   - 勝利判定
4. ゲーム終了

## 注意事項

- 3桁固定
- 数字の重複は禁止
- 過去履歴はすべて表示
- アイテム効果発動時に追加入力が必要な場合あり
- コンソール操作前提

## 開発情報

- Python 3.7以上対応
- 外部ライブラリ不要
- オブジェクト指向設計
- 型ヒント使用

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。
